<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>BK Badges template</title>
    <style>
        body {
            margin: 0
        }

        .sheet-outer {
            margin: 0;
        }

        .sheet-outer.A4 .sheet {
            width: 210mm;
            height: 296mm
        }

        .sheet.padding-xmm {
            padding: 2mm
        }

        .sheet {
            margin: 0;
            overflow: hidden;
            position: relative;
            box-sizing: border-box;
            page-break-after: always;
        }

        @media screen {
            body {
                background: #e0e0e0
            }

            .sheet {
                background: white;
                box-shadow: 0 .5mm 2mm rgba(0,0,0,.3);
                margin: 5mm auto;
            }
        }

        .container-self {
            display: grid;
            grid-template-rows: 1fr 1fr;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            /* padding: 20px; */
            height: 100%;
        }

        .box {
            background-color: #f2f2f2;
            border: 1px solid #ccc;
            padding: 5px;
        }

        .card-title {
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            margin-top: 0;
        }

        .person-photo-table {
            width: 100%;
            table-layout: fixed;
        }
        .person-identification  {
            width:60%;
            font-size: 20px;
        }
        .person-photo  {
            width:40%
        }
        .person-photo img {
            max-width:100%;
            max-height:100%;
        }
        .first-matches-table {
            width: 100%;
            border: 1px solid black;
        }
        .first-matches-table tr{
            border: 1px solid black;
        }
        .first-matches-table td {
            padding: 5px;
        }

        .my-qrcode {
            float: left;
        }

    </style>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js">
    </script>
</head>
<body>
    <div class="sheet-outer A4">
        <#list cardPlayers as cardPlayer>
            <#if cardPlayer.boxId == 1>
                <section class="sheet padding-xmm">
                    <div class="container-self">
            </#if>
                    <div class="box card rounded-0">
                        <#if cardPlayer.partitionId gt 0>
                        <div class="card-body" style="padding: 2px">
                            <h5 class="card-title">
                                <div class="container" style="padding-left: 0px; padding-right: 0px">
                                    <div class="row">
                                        <div class="col-3">
                                            <div id="qrcode-${cardPlayer.uniqueId()}" class="my-qrcode mb-2"></div>
                                            <script type="text/javascript">
                                                new QRCode(document.getElementById("qrcode-${cardPlayer.uniqueId()}"), {
                                                    text: "https://www.toernooi.nl/sport/player.aspx?id=2492F915-3372-422B-BE35-579E1AF9B639&player=${cardPlayer.player.id}",
                                                    width: 84,
                                                    height: 84,
                                                    colorDark : "#000000",
                                                    colorLight : "#ffffff",
                                                    correctLevel : QRCode.CorrectLevel.H
                                                });
                                            </script>
                                        </div>
                                        <div class="col-9">
                                            <div class="pt-2" style="font-size: 30px">BK JEUGD 2024</div>

                                        </div>
                                    </div>
                                </div>

                            </h5>
                            <table class="person-photo-table">
                                <tr>
                                    <td class="person-identification">
                                        <div>${cardPlayer.player.firstName}</div>
                                        <div>${cardPlayer.player.lastName}</div>
                                        <div>${cardPlayer.player.clubName}</div>
                                    </td>
                                    <td class="person-photo">
                                        <img src="./pics/${cardPlayer.player.memberId}.jpg" onerror="this.style.display='none'"/>
                                        <!--<img src="Error.src" onerror="this.src='fallback-img.jpg'"/>-->
                                    </td>
                                </tr>
                            </table>
                            <table class="first-matches-table mt-3">
                                <#list cardPlayer.firstMatchPerEventType as firstMatch>
                                    <tr>
                                        <td class="player-eventname">${firstMatch.eventName}</td>
                                        <td class="player-date">${firstMatch.date?string["HH:mm"]}</td>
                                        <td>
                                            <#list firstMatch.oppositeTeamPlayers(cardPlayer.player.memberId) as oppositePlayer>
                                            <div>${oppositePlayer.firstName} ${oppositePlayer.lastName}</div>
                                        </#list>
                                        </td>
                                    </tr>
                                </#list>
                            </table>
                        </div>

                        <div class="card-footer text-body-secondary bg-body">
                            <div class="container">
                                <div class="row">
                                    <div class="col-6 text-center">
                                        <img src="./bvl_logo_64x64.png"/>
                                    </div>
                                    <div class="col-6 text-center">
                                        <img src="./pp_clublogo_zwart_64x100.jpg"/>
                                    </div>
                                </div>
                            </div>
                        </div>

                        </#if>

                    </div>
            <#if cardPlayer.boxId == 4>
                    </div>
                </section>
            </#if>


        </#list>

    </div>

</body>
</html>